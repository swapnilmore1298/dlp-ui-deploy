<div>
    <section>
        <p-toolbar>
            <div class="p-toolbar-group-left">
                <p-button label="Add New Client" icon="pi pi-plus" class="p-mr-3" (click)="openClientAddPop();">
                </p-button>
                &nbsp;&nbsp;&nbsp;
                <i class="p-toolbar-separator pi pi-bars p-mr-2" style="vertical-align: middle"></i>

            </div>

            <!-- <div class="p-toolbar-group-right">
                <p-button icon="pi pi-search" class="p-mr-2"></p-button>
                <p-button icon="pi pi-calendar" styleClass="p-button-success p-mr-2"></p-button>
                <p-button icon="pi pi-times" styleClass="p-button-danger"></p-button>
            </div> -->
        </p-toolbar>
    </section>
    <section #currentIncidents>
        <p-fieldset legend="Current Clients">
            <p-table [value]="listOfClients" [(selection)]="selectedPolicy" dataKey="_id" responsiveLayout="scroll">
                <ng-template pTemplate="header">
                    <tr>
                        <th></th>
                        <th>Host Name</th>
                        <th>Target Group</th>
                    </tr>

                </ng-template>
                <ng-template pTemplate="body" let-client>
                    <tr>
                        <td>
                            <p-tableRadioButton [value]="client"></p-tableRadioButton>
                        </td>
                        <td>{{client.hostName}}</td>
                        <td>{{client.groupName}}</td>
                    </tr>
                </ng-template>

            </p-table>
        </p-fieldset>

    </section>
</div>

<p-dialog header="Add a new Client" [(visible)]="addClientVisible" [style]="{width: '50vw',height:'40vh'}">
    <div>
      
        <div class="p-grid p-fluid">
            <div class="p-col-12 p-md-12">
                <span class="p-float-label">
                    <input id="float-input" placeholder="Host Name" type="text"
                        [(ngModel)]="newClient.hostName" autocomplete="off" pInputText>
                </span>
                <br>
                <span class="p-float-label">
                    <p-dropdown placeholder="Select Group" [options]="targetGroupOptions"
                        [(ngModel)]="newClient.targetGroupId" optionLabel="name" optionValue="value"></p-dropdown>
                </span>
                <br>
            </div>
        </div>
    </div>
    <ng-template pTemplate="footer">
        <p-button icon="pi pi-check" (click)="addNewClient()" label="Add new Client" styleClass="p-button-text">
        </p-button>
    </ng-template>
</p-dialog>

<p-toast position="top-right"></p-toast>